"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9013],{9013:(t,s,e)=>{e.r(s),e.d(s,{default:()=>c});var n=e(9876),a=(0,n.Q_)("ModuleStore",{state:function(){return{items:{isLoading:!1,isLoadingMore:!1,nextPage:null,data:[]},item:{isLoading:!1,data:[]}}},actions:{loadItems:function(){var t=this;this.items.nextPage="".concat(app.$admin_api,"modules"),this.items.isLoading=!0,this.items.data=[],this.loadMoreItems().finally((function(){return t.items.isLoading=!1}))},loadMoreItems:function(){var t=this;return new Promise((function(s,e){t.items.isLoadingMore=!0,axios.get(t.items.nextPage).then((function(e){t.items.data=t.items.data.concat(e.data),t.items.nextPage=null,s(e)})).catch((function(t){app.$showError(t),e(t)})).finally((function(){return t.items.isLoadingMore=!1}))}))},install:function(t){t.is_installing=!0,axios.post(app.$admin_api+"modules/install",{module:t.id}).then((function(t){app.$showSuccess(t.data.message),location.reload()})).catch((function(t){return app.$showError(t)})).finally((function(){return t.is_installing=!1}))},toggleModuleStatus:function(t){t.is_changing=!0,axios.post("".concat(app.$admin_api,"modules/").concat(t.id,"/toggle_module_status")).then((function(t){return app.$showSuccess(t.data.message)})).catch((function(t){return app.$showError(t)})).finally((function(){return t.is_changing=!1}))}}});const i={__name:"ModulesListItem",props:["module"],setup:function(t){var s=t;return{__sfc:!0,moduleStore:a(),props:s}}};var o=e(1900);const l=(0,o.Z)(i,(function(){var t=this,s=t._self._c,e=t._self._setupProxy;return e.props.module?s("div",{staticClass:"card flex-fill border"},[s("div",{staticClass:"card-body p-0"},[s("h5",{staticClass:"card-title p-2",style:"background-image: url("+e.props.module.thumbnail+")"},[s("span",{staticClass:"text-capitalize"},[t._v(t._s(e.props.module.name))]),t._v(" "),s("small",[t._v("v"+t._s(e.props.module.version))]),t._v(" "),e.props.module.is_enabled?s("div",{staticClass:"border border-success p-1 rounded-circle float-end"},[s("i",{staticClass:"bi bi-check text-success"})]):t._e()]),t._v(" "),s("div",{staticClass:"px-2"},[s("div",{staticClass:"mb-1 rounded small p-2 bg-light"},[t._v("\n        "+t._s(e.props.module.description)+"\n      ")]),t._v(" "),s("div",[t._v("\n        "+t._s(t.$t("Author"))+" :\n        "),s("a",{attrs:{href:e.props.module.author_url,target:"_blank"}},[t._v(t._s(e.props.module.author))])]),t._v(" "),s("div",[t._v("\n        "+t._s(t.$t("Price"))+" :\n        "),0==e.props.module.price?s("span",[t._v(t._s(t.$t("Free")))]):s("span",[e.props.module.new_price&&e.props.module.new_price<e.props.module.price?s("span",[s("s",{staticClass:"text-danger"},[t._v(t._s(e.props.module.price)+" USD")]),t._v(" "),s("span",{staticClass:"border border-success rounded text-success px-1"},[0==e.props.module.new_price?s("span",[t._v(t._s(t.$t("Free")))]):s("span",[t._v(t._s(e.props.module.new_price)+" USD")])])]):s("span",[s("span",{staticClass:"border border-success rounded text-success px-1"},[t._v(t._s(t.$module.price)+" USD")])])])])])]),t._v(" "),s("div",{staticClass:"card-footer"},[e.props.module.is_installed?s("span",[e.props.module.is_enabled?s("save-btn",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{text:"Disable",inActionText:"Disabling",inAction:e.props.module.is_changing},nativeOn:{click:function(t){return e.moduleStore.toggleModuleStatus(e.props.module)}}}):s("save-btn",{staticClass:"btn btn-sm btn-outline-primary",attrs:{text:"Enable",inActionText:"Enabling",inAction:e.props.module.is_changing},nativeOn:{click:function(t){return e.moduleStore.toggleModuleStatus(e.props.module)}}}),t._v(" "),e.props.module.has_update?s("a",{staticClass:"btn btn-link text-warning btn-sm float-end mx-2",attrs:{href:e.props.module.download_link,target:"_blank"}},[t._v("\n        "+t._s(t.$t("New update"))+"\n      ")]):t._e()],1):s("span",[s("save-btn",{staticClass:"btn btn-outline-success btn-sm",attrs:{"in-action":e.props.module.is_installing,"in-action-text":"Installing",text:"Install"},nativeOn:{click:function(t){return e.moduleStore.install(e.props.module)}}})],1)])]):t._e()}),[],!1,null,null,null).exports;var r=e(538);const u={__name:"ModulesList",setup:function(t){var s=a(),e=(0,n.Jk)(s).items;return(0,r.bv)((function(){s.loadItems()})),{__sfc:!0,moduleStore:s,items:e,ModulesListItem:l}}};const c=(0,o.Z)(u,(function(){var t=this,s=t._self._c,e=t._self._setupProxy;return s("div",{staticClass:"modules-list"},[e.items.isLoading?s("pre-loader"):e.items.data.length?s("div",[s("div",{staticClass:"row"},t._l(e.items.data,(function(t,n){return s("div",{key:n,staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 d-flex"},[s(e.ModulesListItem,{attrs:{module:t}})],1)})),0)]):s("empty-state",{staticClass:"m-auto",attrs:{text:t.$t("No modules available")}})],1)}),[],!1,null,null,null).exports}}]);