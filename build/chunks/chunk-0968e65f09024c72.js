"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6632],{2941:(t,e,a)=>{a.d(e,{Z:()=>n});var i=a(1519),s=a.n(i)()((function(t){return t[1]}));s.push([t.id,".search-result-list{background:#fff;border:1px solid #ddd;border-radius:5px;margin-top:-3px;padding:5px;z-index:1}",""]);const n=s},1519:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=t(e);return e[2]?"@media ".concat(e[2]," {").concat(a,"}"):a})).join("")},e.i=function(t,a,i){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(i)for(var n=0;n<this.length;n++){var r=this[n][0];null!=r&&(s[r]=!0)}for(var o=0;o<t.length;o++){var l=[].concat(t[o]);i&&s[l[0]]||(a&&(l[2]?l[2]="".concat(a," and ").concat(l[2]):l[2]=a),e.push(l))}},e}},3379:(t,e,a)=>{var i,s=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},n=function(){var t={};return function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}t[e]=a}return t[e]}}(),r=[];function o(t){for(var e=-1,a=0;a<r.length;a++)if(r[a].identifier===t){e=a;break}return e}function l(t,e){for(var a={},i=[],s=0;s<t.length;s++){var n=t[s],l=e.base?n[0]+e.base:n[0],c=a[l]||0,d="".concat(l," ").concat(c);a[l]=c+1;var u=o(d),h={css:n[1],media:n[2],sourceMap:n[3]};-1!==u?(r[u].references++,r[u].updater(h)):r.push({identifier:d,updater:v(h,e),references:1}),i.push(d)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var s=a.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=n(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function h(t,e,a,i){var s=a?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,s);else{var n=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(n,r[e]):t.appendChild(n)}}function f(t,e,a){var i=a.css,s=a.media,n=a.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,g=0;function v(t,e){var a,i,s;if(e.singleton){var n=g++;a=p||(p=c(e)),i=h.bind(null,a,n,!1),s=h.bind(null,a,n,!0)}else a=c(e),i=f.bind(null,a,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(a)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=s());var a=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<a.length;i++){var s=o(a[i]);r[s].references--}for(var n=l(t,e),c=0;c<a.length;c++){var d=o(a[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}a=n}}}},6632:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var i=a(9669),s=a.n(i);const n={data:function(){return{listCategories:[],articlesList:[],columns:["title","category","Published","created at",""],checkedArticles:[],checkAllState:!1,indeterminateState:!1,isLoading:!0,nextpage:null,searchResults:{type:"article",target_url:this.$myaccount_url+"#/articles/edit/",data:[]},searchXHR:null,isSearching:!1,selectedCategory:null}},methods:{strlimit:function(t){if(t){var e=t.length;return t=t.substring(0,64),e>64&&(t+="..."),t}},loadCategories:function(){var t=this;this.isLoading=!0,s().get(this.$myaccount_url+"manage_categories/fetch").then((function(e){t.listCategories=e.data.data})).catch((function(e){t.$showError(e)})).finally((function(){t.isLoading=!1}))},fetchData:function(){var t=this;this.isLoading=!0,s().post(this.nextpage,{category:this.selectedCategory}).then((function(e){var a=e.data.data;t.articlesList=t.articlesList.concat(a),t.nextpage=e.data.links.next})).catch((function(e){t.$showError(e)})).finally((function(){t.isLoading=!1}))},deleteArticle:function(t){var e=this;this.$modal.show("dialog",{title:this.$t("Delete confirmation"),text:'<span class="text-danger font-weight-bold">'+this.$t("Are you sure you want to delete this record?")+"</span>",buttons:[{title:this.$t("Close")},{title:'<span class="text-danger font-weight">'+this.$t("Delete")+"</span>",handler:function(){var a=event.target;a.setAttribute("disabled","disabled"),e.$toastClear(),s().post(e.$myaccount_url+"manage_articles/"+t,{_method:"delete"}).then((function(i){if("ok"==i.data.status){e.$showSuccess(e.$t("Article has been deleted."));var s=e.articlesList.findIndex((function(e){return e.id===t}));e.articlesList.splice(s,1)}a.removeAttribute("disabled")})).catch((function(t){e.$showError(t)})),e.$modal.hide("dialog")}}]})},togglePublish:function(t){var e=this;this.$toastClear(),s().post(this.$myaccount_url+"manage_articles/toggle_published",{article_id:t}).then((function(t){if(t.data){var a=t.data.data,i=e.articlesList.findIndex((function(t){return t.id===a.id}));e.articlesList.splice(i,1,a),e.$showSuccess(e.$t("Article has been updated."))}})).catch((function(t){e.$showError(t)}))},scroll:function(){var t=this;window.onscroll=function(){null!=t.nextpage&&window.innerHeight+window.scrollY>=document.body.offsetHeight&&t.fetchData()}},search:function(t){var e=this;""!=t?(null==this.searchXHR||this.searchXHR.cancel(),this.searchXHR=s().CancelToken.source(),this.isSearching=!0,s().post(this.$base_url+"search",{q:t,type:"articles"},{cancelToken:this.searchXHR.token}).then((function(t){e.searchResults.data=t.data.results.articles})).catch((function(t){s().isCancel(t)||e.$showError(t)})).finally((function(){e.isSearching=!1}))):this.searchResults=[]},reloadArticleByCategory:function(){this.articlesList=[],this.nextpage=this.$myaccount_url+"manage_articles/fetch",this.fetchData()}},created:function(){return this.nextpage=this.$myaccount_url+"manage_articles/fetch",this.fetchData()},directives:{indeterminate:function(t,e){t.indeterminate=Boolean(e.value)}},mounted:function(){this.scroll(),this.loadCategories()},watch:{selectedCategory:function(){this.reloadArticleByCategory()}}};var r=a(3379),o=a.n(r),l=a(2941),c={insert:"head",singleton:!1};o()(l.Z,c);l.Z.locals;const d=(0,a(1900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("search-form",{attrs:{items:t.searchResults,"is-loading":t.isSearching},on:{input:function(e){return t.search(e)}}})],1),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("v-select",{staticClass:"bg-white",attrs:{placeholder:t.$t("Filter by category"),label:"name",options:t.listCategories},scopedSlots:t._u([{key:"option",fn:function(a){return[a.thumbnail?e("img",{attrs:{src:a.thumbnail,width:"20",height:"20"}}):e("i",{staticClass:"bi bi-folder"}),t._v("\n          "+t._s(a.name)+"\n        ")]}}]),model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),t._v(" "),e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"float-end"},[e("router-link",{staticClass:"btn btn-sm btn-outline-secondary mt-2",attrs:{to:{name:"articles_new"}}},[e("i",{staticClass:"bi bi-plus"}),t._v(" "+t._s(t.$t("new"))+"\n        ")])],1)])]),t._v(" "),t.isLoading&&0==t.articlesList.length?e("div",{staticClass:"card card-body my-3"},[e("pre-loader")],1):[t.articlesList.length?e("div",[e("ul",{staticClass:"list-group my-3 p-0"},t._l(t.articlesList,(function(a){return e("li",{key:a.id,staticClass:"list-group-item"},[e("h5",{staticClass:"card-title p-0 m-0 text-capitalize"},[e("router-link",{staticClass:"text-dark",attrs:{to:{name:"articles_edit",params:{article_id:a.id}}}},[t._v("\n              "+t._s(t.strlimit(a.title))+"\n            ")]),t._v(" "),e("a",{staticClass:"small me-2 text-dark",attrs:{target:"_blank",href:a.url}},[e("i",{staticClass:"bi bi-box-arrow-up-right"})])],1),t._v(" "),e("div",{staticClass:"card-text row m-0"},[e("div",{staticClass:"col-xs-12 col-sm-6 m-0 p-0"},[a.category?e("span",{staticClass:"text-capitalize",style:{color:"#"+t.stringToColor(a.category.name)}},[t._v(t._s(a.category.name))]):e("span",[t._v(t._s(t.$t("uncategorized")))]),t._v("\n              -\n              "),e("small",[t._v(t._s(t.$t("out_of_found_this_helpful",{helpful:a.rate_helpful,total:a.rate_total})))]),t._v("\n              -\n              "),e("small",{staticClass:"text-muted"},[t._v(t._s(a.created_at))])]),t._v(" "),e("div",{staticClass:"col-xs-12 col-sm-6 m-0 p-0"},[e("div",{staticClass:"float-end"},[a.published?t._e():e("span",{staticClass:"badge bg-warning"},[e("i",{staticClass:"bi bi-eye-slash"})]),t._v(" "),e("div",{staticClass:"dropdown d-inline"},[t._m(0,!0),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("button",{staticClass:"dropdown-item",attrs:{type:"button","data-html":"true","data-bs-toggle":"tooltip",title:t.$t("Toggle publish article")},on:{click:function(e){return t.togglePublish(a.id)}}},[a.published?e("span",[e("i",{staticClass:"bi bi-eye-slash"}),t._v("\n                        "+t._s(t.$t("Unpublish"))+"\n                      ")]):e("span",[e("i",{staticClass:"bi bi-eye"}),t._v("\n                        "+t._s(t.$t("Publish"))+"\n                      ")])]),t._v(" "),e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"articles_edit",params:{article_id:a.id}}}},[e("span",[e("i",{staticClass:"bi bi-pencil"}),t._v("\n                        "+t._s(t.$t("Edit"))+"\n                      ")])]),t._v(" "),e("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button","data-bs-toggle":"tooltip",title:t.$t("Delete")},on:{click:function(e){return t.deleteArticle(a.id)}}},[e("span",[e("i",{staticClass:"bi bi-trash"}),t._v("\n                        "+t._s(t.$t("Delete"))+"\n                      ")])])],1)])])])])])})),0),t._v(" "),t.isLoading?e("pre-loader"):t._e(),t._v(" "),!t.isLoading&&t.nextpage?e("div",{staticClass:"loadmore text-center"},[e("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.fetchData()}}},[t._v(t._s(t.$t("load more")))])]):t._e()],1):e("empty-state",{attrs:{text:"No articles yet"}})],t._v(" "),e("v-dialog")],2)}),[function(){var t=this._self._c;return t("button",{staticClass:"btn btn-light btn-sm rounded-circle",attrs:{type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"bi bi-three-dots-vertical"})])}],!1,null,null,null).exports}}]);